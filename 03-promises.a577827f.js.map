{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEaC,SAASC,cAAc,SAE/BC,iBAAiB,UAYtB,SAAwBC,GACtBA,EAAIC,iBAEJ,MAAQC,MAAAC,EAAKC,KAAEA,EAAIC,OAAEA,GAAWL,EAAIM,cAAcC,SAC5CC,EAASC,OAAON,EAAMO,OACtBC,EAAQF,OAAOL,EAAKM,OACpBE,EAAUH,OAAOJ,EAAOK,OAExBG,EAAWC,MAAMC,KAAK,CAAEC,OAAQJ,IAAW,CAACK,EAAGC,IAlBvD,SAAuBC,EAAUjB,GAC/B,MAAMkB,EAAgBC,KAAKC,SAAW,GAEtC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3BC,YAAW,KACTN,EAAgBI,EAAQ,C,SAAEL,E,MAAUjB,IAAWuB,EAAO,C,SAAEN,E,MAAUjB,GAAQ,GACzEA,EAAM,G,CAcFyB,CAAcT,EAAQ,EADRV,EAASU,EAAQP,GAEnCiB,MAAK,EAACT,SAAEA,EAAQjB,MAAEA,MACjB2B,EAAAlC,GAASmC,OAAOC,QAAQ,uBAAqBZ,QAAiBjB,MAAU,IAEzE8B,OAAM,EAACb,SAAEA,EAAQjB,MAAEA,MAClB2B,EAAAlC,GAASmC,OAAOG,QAAQ,sBAAoBd,QAAejB,MAAU,MAI3EqB,QAAQW,IAAIrB,GACTe,MAAK,KACJO,QAAQC,IAAI,cAAc,IAE3BJ,OAAOK,IACNF,QAAQE,MAAM,qCAAsCA,EAAM,G","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst form = document.querySelector('.form');\n\nform.addEventListener('submit', onButtonSubmit);\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      shouldResolve ? resolve({ position, delay }) : reject({ position, delay });\n    }, delay);\n  });\n}\n\nfunction onButtonSubmit(evt) {\n  evt.preventDefault();\n\n  const { delay, step, amount } = evt.currentTarget.elements;\n  const delay1 = Number(delay.value);\n  const step1 = Number(step.value);\n  const amount1 = Number(amount.value);\n\n  const promises = Array.from({ length: amount1 }, (_, index) => {\n    const currentDelay = delay1 + index * step1;\n    return createPromise(index + 1, currentDelay)\n      .then(({ position, delay }) => {\n        Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      })\n      .catch(({ position, delay }) => {\n        Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n      });\n  });\n\n  Promise.all(promises)\n    .then(() => {\n      console.log('All success')\n    })\n    .catch((error) => {\n      console.error('At least one promise was rejected:', error);\n    });\n}\n"],"names":["$7Y9D8","parcelRequire","document","querySelector","addEventListener","evt","preventDefault","delay","delay2","step","amount","currentTarget","elements","delay1","Number","value","step1","amount1","promises","Array","from","length","_","index","position","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","$47d4ff9957288465$var$createPromise","then","$parcel$interopDefault","Notify","success","catch","failure","all","console","log","error"],"version":3,"file":"03-promises.a577827f.js.map"}